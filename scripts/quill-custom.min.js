function initializeQuill(t){const{container:e,toolbar:i,placeholder:o="Compose an epic...",maxStack:n=500,onChange:r=null}=t,l=Quill.import("formats/font");l.whitelist=["serif","monospace","segoe-ui","calibri","arial","tahoma","verdana","trebuchet","georgia","times-new-roman","consolas","courier-new","roboto","inter","system-ui"],Quill.register(l,!0);const s=Quill.import("formats/size");s.whitelist=["8px","10px","12px","14px","16px","18px","20px","24px","32px","48px","64px"],Quill.register(s,!0);const a=new Quill(e,{theme:"snow",placeholder:o,modules:{toolbar:{container:i,handlers:{undo:function(){this.quill.getModule("history").undo()},redo:function(){this.quill.getModule("history").redo()}}},history:{delay:1e3,maxStack:n,userOnly:!0},syntax:!0}});return a.on("text-change",()=>{r&&"function"==typeof r&&r(a.getHTML())}),a.getHTML=function(){const t=this.root.innerHTML;return window.DOMPurify?DOMPurify.sanitize(t):t},a.setHTML=function(t){const e=window.DOMPurify?DOMPurify.sanitize(t):t;this.root.innerHTML=e},a}document.addEventListener("DOMContentLoaded",()=>{window.hljs&&hljs.highlightAll()});